(()=>{var e={};e.id=444,e.ids=[444],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3572:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>i}),s(7733),s(6011),s(5866);var t=s(3191),a=s(8716),o=s(7922),l=s.n(o),d=s(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(r,n);let i=["",{children:["portfolio",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7733)),"/workspace/src/app/portfolio/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6011)),"/workspace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/src/app/portfolio/page.tsx"],x="/portfolio/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/portfolio/page",pathname:"/portfolio",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},355:(e,r,s)=>{Promise.resolve().then(s.bind(s,8753))},8091:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9163:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(6557).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},8753:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>Z});var t=s(326),a=s(7577),o=s(6671),l=s(3855),d=s(7069),n=s(9163),i=s(369),c=s(6557);let x=(0,c.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var u=s(8091);function m({portfolios:e,selectedPortfolio:r,onSelectPortfolio:s,onDeletePortfolio:o}){let[l,c]=(0,a.useState)(null),m=e=>{confirm("Are you sure you want to delete this portfolio? This action cannot be undone.")&&((0,i.BT)(e),o(e)),c(null)};return(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Your Portfolios"}),t.jsx("div",{className:"space-y-2",children:e.map(e=>{let a=r?.id===e.id,o=e.totalCost>0?(e.totalValue-e.totalCost)/e.totalCost*100:0,i=e.totalValue-e.totalCost;return(0,t.jsxs)("div",{className:`relative border rounded-lg p-4 cursor-pointer transition-all ${a?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"}`,onClick:()=>s(e),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-medium text-foreground truncate",children:e.name}),e.description&&t.jsx("p",{className:"text-sm text-muted-foreground truncate mt-1",children:e.description}),(0,t.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Cards:"}),t.jsx("span",{className:"font-medium",children:e.cards.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Value:"}),(0,t.jsxs)("span",{className:"font-medium",children:["$",e.totalValue.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Performance:"}),(0,t.jsxs)("div",{className:`flex items-center space-x-1 ${o>=0?"text-green-600":"text-red-600"}`,children:[o>=0?t.jsx(d.Z,{className:"h-3 w-3"}):t.jsx(n.Z,{className:"h-3 w-3"}),(0,t.jsxs)("span",{className:"font-medium",children:[o>=0?"+":"",o.toFixed(1),"%"]})]})]})]})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("button",{onClick:r=>{r.stopPropagation(),c(l===e.id?null:e.id)},className:"p-1 text-muted-foreground hover:text-foreground transition-colors",children:t.jsx(x,{className:"h-4 w-4"})}),l===e.id&&t.jsx("div",{className:"absolute right-0 top-8 bg-card border border-border rounded-lg shadow-lg z-10 min-w-[150px]",children:(0,t.jsxs)("button",{onClick:r=>{r.stopPropagation(),m(e.id)},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[t.jsx(u.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Delete"})]})})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:(0,t.jsxs)("div",{className:`text-xs font-medium ${i>=0?"text-green-600":"text-red-600"}`,children:[i>=0?"+":"","$",i.toFixed(2)," total"]})})]},e.id)})})]})}var p=s(8307),h=s(1821),f=s(4019),g=s(1015),b=s(8965),j=s(639),N=s(9022);let y=[{value:"mint",label:"Mint (M)"},{value:"near_mint",label:"Near Mint (NM)"},{value:"excellent",label:"Excellent (EX)"},{value:"good",label:"Good (GD)"},{value:"light_played",label:"Light Played (LP)"},{value:"played",label:"Played (PL)"},{value:"poor",label:"Poor (PR)"}];function v({isOpen:e,onClose:r,onAddCard:s}){let[o,d]=(0,a.useState)(""),[n,i]=(0,a.useState)([]),[c,x]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[h,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(1),[C,P]=(0,a.useState)(""),[S,q]=(0,a.useState)("near_mint"),[Z,F]=(0,a.useState)(!1),[$,_]=(0,a.useState)(""),M=(0,a.useCallback)(async e=>{if(!e.trim()){i([]);return}m(!0),v(null);try{let r=await (0,g.mb)(e,{page:1});i(r.cards.slice(0,20))}catch(e){v(e instanceof Error?e.message:"Failed to search cards"),i([])}finally{m(!1)}},[]),A=e=>{x(e);let r=e.prices.usd||e.prices.eur||0;r>0&&P(r.toString())};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[t.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Add Card to Portfolio"}),t.jsx("button",{onClick:()=>{x(null),k(1),P(""),q("near_mint"),F(!1),_(""),d(""),i([]),v(null),r()},className:"p-2 hover:bg-accent rounded-lg transition-colors",children:t.jsx(f.Z,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:c?(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"bg-accent rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-16 h-22 bg-muted rounded border flex-shrink-0",children:c.imageUrl?t.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover rounded"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-muted-foreground text-center p-1",children:c.name})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:c.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:c.setName}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Current Price: $",c.prices.usd?.toFixed(2)||"N/A"]})]}),t.jsx("button",{onClick:()=>x(null),className:"text-muted-foreground hover:text-foreground transition-colors",children:t.jsx(f.Z,{className:"h-4 w-4"})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Quantity *"}),t.jsx("input",{type:"number",min:"1",value:w,onChange:e=>k(Math.max(1,parseInt(e.target.value)||1)),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Purchase Price (USD) *"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:C,onChange:e=>P(e.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Condition"}),t.jsx("select",{value:S,onChange:e=>q(e.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:y.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Foil"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"foil",checked:Z,onChange:e=>F(e.target.checked),className:"rounded border-border text-primary focus:ring-primary"}),t.jsx("label",{htmlFor:"foil",className:"text-sm text-foreground",children:"This is a foil card"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Notes (Optional)"}),t.jsx("textarea",{value:$,onChange:e=>_(e.target.value),placeholder:"Add any notes about this card...",rows:3,className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]})]}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Search for a card"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:"Enter card name...",value:o,onChange:e=>{d(e.target.value),M(e.target.value)},className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),h&&t.jsx(j.B,{message:h,onRetry:()=>M(o)}),u&&t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(b.T,{size:"large"})}),n.length>0&&!u&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-foreground",children:["Search Results (",n.length,")"]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:n.map(e=>t.jsx("div",{onClick:()=>A(e),className:"cursor-pointer",children:t.jsx(N.S,{card:e,onClick:()=>A(e),showActions:!1})},e.id))})]}),o&&!u&&0===n.length&&!h&&(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(p.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No cards found"}),t.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms or check the spelling."})]})]})}),c&&t.jsx("div",{className:"p-6 border-t border-border",children:(0,t.jsxs)("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>x(null),className:"flex-1 px-4 py-2 border border-border text-foreground rounded-lg hover:bg-accent transition-colors",children:"Back to Search"}),(0,t.jsxs)("button",{onClick:()=>{c&&(s({cardId:c.id,card:c,quantity:w,purchasePrice:parseFloat(C)||0,purchaseDate:new Date().toISOString(),condition:S,foil:Z,notes:$.trim()||void 0}),x(null),k(1),P(""),q("near_mint"),F(!1),_(""),d(""),i([]))},disabled:!C||0>parseFloat(C),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(l.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Add to Portfolio"})]})]})})]})}):null}var w=s(6226);let k=(0,c.Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),C={mint:"Mint",near_mint:"Near Mint",excellent:"Excellent",good:"Good",light_played:"Light Played",played:"Played",poor:"Poor"};function P({portfolioCard:e,onRemove:r,onUpdate:s}){let[o,l]=(0,a.useState)(!1),[i,c]=(0,a.useState)(!1),[m,p]=(0,a.useState)({quantity:e.quantity,purchasePrice:e.purchasePrice,condition:e.condition,notes:e.notes||""}),h=e.card.prices.usd||0,f=h*e.quantity,g=e.purchasePrice*e.quantity,b=f-g,j=g>0?b/g*100:0;return t.jsx("div",{className:"p-4 space-y-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-12 h-16 bg-muted rounded border flex-shrink-0",children:e.card.imageUrl?t.jsx(w.default,{src:e.card.imageUrl,alt:e.card.name,width:48,height:64,className:"w-full h-full object-cover rounded"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-muted-foreground text-center p-1",children:e.card.name.substring(0,10)})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("h4",{className:"font-medium text-foreground truncate",children:[e.card.name,e.foil&&t.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Foil"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.card.setName," • ",C[e.condition]]})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("button",{onClick:()=>c(!i),className:"p-1 text-muted-foreground hover:text-foreground transition-colors",children:t.jsx(x,{className:"h-4 w-4"})}),i&&(0,t.jsxs)("div",{className:"absolute right-0 top-8 bg-card border border-border rounded-lg shadow-lg z-10 min-w-[120px]",children:[(0,t.jsxs)("button",{onClick:()=>{l(!0),c(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-foreground hover:bg-accent transition-colors",children:[t.jsx(k,{className:"h-3 w-3"}),t.jsx("span",{children:"Edit"})]}),(0,t.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to remove this card from your portfolio?")&&r(),c(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[t.jsx(u.Z,{className:"h-3 w-3"}),t.jsx("span",{children:"Remove"})]})]})]})]}),o?(0,t.jsxs)("div",{className:"mt-2 space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Quantity"}),t.jsx("input",{type:"number",min:"1",value:m.quantity,onChange:e=>p(r=>({...r,quantity:Math.max(1,parseInt(e.target.value)||1)})),className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Purchase Price"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:m.purchasePrice,onChange:e=>p(r=>({...r,purchasePrice:parseFloat(e.target.value)||0})),className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Condition"}),t.jsx("select",{value:m.condition,onChange:e=>p(r=>({...r,condition:e.target.value})),className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary",children:Object.entries(C).map(([e,r])=>t.jsx("option",{value:e,children:r},e))})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Notes"}),t.jsx("input",{type:"text",value:m.notes,onChange:e=>p(r=>({...r,notes:e.target.value})),placeholder:"Optional notes...",className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>{s({...e,quantity:m.quantity,purchasePrice:m.purchasePrice,condition:m.condition,notes:m.notes.trim()||void 0}),l(!1)},className:"px-3 py-1 text-sm bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors",children:"Save"}),t.jsx("button",{onClick:()=>{p({quantity:e.quantity,purchasePrice:e.purchasePrice,condition:e.condition,notes:e.notes||""}),l(!1)},className:"px-3 py-1 text-sm border border-border text-foreground rounded hover:bg-accent transition-colors",children:"Cancel"})]})]}):(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),t.jsx("span",{className:"ml-1 font-medium",children:e.quantity})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Purchase:"}),(0,t.jsxs)("span",{className:"ml-1 font-medium",children:["$",e.purchasePrice.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Current:"}),(0,t.jsxs)("span",{className:"ml-1 font-medium",children:["$",h.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Value:"}),(0,t.jsxs)("span",{className:"ml-1 font-medium",children:["$",f.toFixed(2)]})]})]}),!o&&(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:`flex items-center space-x-1 text-sm ${b>=0?"text-green-600":"text-red-600"}`,children:[b>=0?t.jsx(d.Z,{className:"h-3 w-3"}):t.jsx(n.Z,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:[b>=0?"+":"","$",b.toFixed(2),"(",j>=0?"+":"",j.toFixed(1),"%)"]})]}),e.notes&&t.jsx("div",{className:"text-xs text-muted-foreground italic truncate max-w-xs",children:e.notes})]})]})]})})}function S({portfolio:e,onPortfolioUpdated:r}){let[s,o]=(0,a.useState)(!1),[c,x]=(0,a.useState)(""),[u,m]=(0,a.useState)("name"),[f,g]=(0,a.useState)("asc"),b=(s,t,a)=>{let o=e.cards.filter(e=>!(e.cardId===s&&e.foil===t&&e.condition===a)),l=o.reduce((e,r)=>e+(r.card.prices.usd||0)*r.quantity,0),d=o.reduce((e,r)=>e+r.purchasePrice*r.quantity,0),n={...e,cards:o,totalValue:l,totalCost:d,performance:d>0?(l-d)/d*100:0,updatedAt:new Date().toISOString()};(0,i.$8)(n),r(n)},j=s=>{let t=e.cards.map(e=>e.cardId===s.cardId&&e.foil===s.foil&&e.condition===s.condition?s:e),a=t.reduce((e,r)=>e+(r.card.prices.usd||0)*r.quantity,0),o=t.reduce((e,r)=>e+r.purchasePrice*r.quantity,0),l={...e,cards:t,totalValue:a,totalCost:o,performance:o>0?(a-o)/o*100:0,updatedAt:new Date().toISOString()};(0,i.$8)(l),r(l)},N=e.cards.filter(e=>e.card.name.toLowerCase().includes(c.toLowerCase())||e.card.setName.toLowerCase().includes(c.toLowerCase())).sort((e,r)=>{let s,t;switch(u){case"name":default:s=e.card.name,t=r.card.name;break;case"value":s=(e.card.prices.usd||0)*e.quantity,t=(r.card.prices.usd||0)*r.quantity;break;case"performance":let a=((e.card.prices.usd||0)-e.purchasePrice)*e.quantity,o=((r.card.prices.usd||0)-r.purchasePrice)*r.quantity;s=a,t=o;break;case"quantity":s=e.quantity,t=r.quantity}return"string"==typeof s&&"string"==typeof t?"asc"===f?s.localeCompare(t):t.localeCompare(s):"asc"===f?s-t:t-s}),y=e.totalValue-e.totalCost;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e.name}),e.description&&t.jsx("p",{className:"text-muted-foreground mt-1",children:e.description})]}),(0,t.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[t.jsx(l.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Add Card"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Cards"}),t.jsx("div",{className:"text-xl font-semibold text-foreground",children:e.cards.reduce((e,r)=>e+r.quantity,0)})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Value"}),(0,t.jsxs)("div",{className:"text-xl font-semibold text-foreground",children:["$",e.totalValue.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Cost"}),(0,t.jsxs)("div",{className:"text-xl font-semibold text-foreground",children:["$",e.totalCost.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Gain/Loss"}),(0,t.jsxs)("div",{className:`text-xl font-semibold flex items-center space-x-1 ${y>=0?"text-green-600":"text-red-600"}`,children:[y>=0?t.jsx(d.Z,{className:"h-5 w-5"}):t.jsx(n.Z,{className:"h-5 w-5"}),(0,t.jsxs)("span",{children:[y>=0?"+":"","$",y.toFixed(2)]}),(0,t.jsxs)("span",{className:"text-sm",children:["(",e.performance>=0?"+":"",e.performance.toFixed(1),"%)"]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[t.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:"Search cards...",value:c,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"name",children:"Sort by Name"}),t.jsx("option",{value:"value",children:"Sort by Value"}),t.jsx("option",{value:"performance",children:"Sort by Performance"}),t.jsx("option",{value:"quantity",children:"Sort by Quantity"})]}),t.jsx("button",{onClick:()=>g("asc"===f?"desc":"asc"),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground hover:bg-accent transition-colors",children:"asc"===f?"↑":"↓"})]})]}),0===e.cards.length?(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-12 text-center",children:[t.jsx(h.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No cards in portfolio"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Start building your portfolio by adding some cards."}),(0,t.jsxs)("button",{onClick:()=>o(!0),className:"inline-flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[t.jsx(l.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Add Your First Card"})]})]}):(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg",children:[t.jsx("div",{className:"p-4 border-b border-border",children:(0,t.jsxs)("h3",{className:"font-semibold text-foreground",children:["Cards (",N.length,")"]})}),t.jsx("div",{className:"divide-y divide-border",children:N.map(e=>t.jsx(P,{portfolioCard:e,onRemove:()=>b(e.cardId,e.foil,e.condition),onUpdate:j},`${e.cardId}-${e.foil}-${e.condition}`))})]}),t.jsx(v,{isOpen:s,onClose:()=>o(!1),onAddCard:s=>{let t;let a=e.cards.findIndex(e=>e.cardId===s.cardId&&e.foil===s.foil&&e.condition===s.condition),l=(t=a>=0?e.cards.map((e,r)=>r===a?{...e,quantity:e.quantity+s.quantity}:e):[...e.cards,s]).reduce((e,r)=>e+(r.card.prices.usd||0)*r.quantity,0),d=t.reduce((e,r)=>e+r.purchasePrice*r.quantity,0),n={...e,cards:t,totalValue:l,totalCost:d,performance:d>0?(l-d)/d*100:0,updatedAt:new Date().toISOString()};(0,i.$8)(n),r(n),o(!1)}})]})}function q({isOpen:e,onClose:r,onPortfolioCreated:s}){let[l,d]=(0,a.useState)(""),[n,c]=(0,a.useState)(""),[x,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),h=async e=>{if(e.preventDefault(),!l.trim()){p("Portfolio name is required");return}u(!0),p("");try{let e={id:crypto.randomUUID(),name:l.trim(),description:n.trim()||void 0,cards:[],totalValue:0,totalCost:0,performance:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};(0,i.$8)(e),s(e),d(""),c("")}catch(e){p("Failed to create portfolio. Please try again."),console.error("Error creating portfolio:",e)}finally{u(!1)}},g=()=>{d(""),c(""),p(""),r()};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(o.Z,{className:"h-5 w-5 text-primary"}),t.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Create New Portfolio"})]}),t.jsx("button",{onClick:g,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:t.jsx(f.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("form",{onSubmit:h,className:"p-6 space-y-4",children:[m&&t.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-destructive",children:m})}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground",children:"Portfolio Name *"}),t.jsx("input",{id:"name",type:"text",value:l,onChange:e=>d(e.target.value),placeholder:"e.g., Modern Collection, Investment Cards",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:x,maxLength:100})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-foreground",children:"Description"}),t.jsx("textarea",{id:"description",value:n,onChange:e=>c(e.target.value),placeholder:"Optional description for your portfolio",rows:3,className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",disabled:x,maxLength:500})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:g,disabled:x,className:"flex-1 px-4 py-2 border border-border text-foreground rounded-lg hover:bg-accent transition-colors disabled:opacity-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:x||!l.trim(),className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 font-medium",children:x?"Creating...":"Create Portfolio"})]})]})]})}):null}function Z(){let[e,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(null),[c,x]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!0),h=e.reduce((e,r)=>e+r.totalValue,0),f=e.reduce((e,r)=>e+r.totalCost,0),g=h-f,b=f>0?(h-f)/f*100:0;return u?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(o.Z,{className:"h-8 w-8 text-primary"}),t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Portfolio Management"})]}),t.jsx("p",{className:"text-muted-foreground",children:"Track your MTG card investments and monitor performance"})]}),(0,t.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[t.jsx(l.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"New Portfolio"})]})]}),e.length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(o.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Portfolios"})]}),t.jsx("div",{className:"text-2xl font-bold text-foreground",children:e.length})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4",children:[t.jsx("div",{className:"flex items-center space-x-2 mb-2",children:t.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Value"})}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-foreground",children:["$",h.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4",children:[t.jsx("div",{className:"flex items-center space-x-2 mb-2",children:t.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Cost"})}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-foreground",children:["$",f.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[g>=0?t.jsx(d.Z,{className:"h-4 w-4 text-green-500"}):t.jsx(n.Z,{className:"h-4 w-4 text-red-500"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Gain/Loss"})]}),(0,t.jsxs)("div",{className:`text-2xl font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:[g>=0?"+":"","$",g.toFixed(2),(0,t.jsxs)("span",{className:"text-sm ml-1",children:["(",b>=0?"+":"",b.toFixed(1),"%)"]})]})]})]}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-12 space-y-4",children:[t.jsx(o.Z,{className:"h-16 w-16 text-muted-foreground mx-auto"}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"No portfolios yet"}),t.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Create your first portfolio to start tracking your MTG card investments and monitor their performance over time."})]}),(0,t.jsxs)("button",{onClick:()=>x(!0),className:"inline-flex items-center space-x-2 bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors",children:[t.jsx(l.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Create Your First Portfolio"})]})]}):(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsx(m,{portfolios:e,selectedPortfolio:s,onSelectPortfolio:i,onDeletePortfolio:t=>{if(r(e=>e.filter(e=>e.id!==t)),s?.id===t){let r=e.filter(e=>e.id!==t);i(r.length>0?r[0]:null)}}})}),t.jsx("div",{className:"lg:col-span-2",children:s?t.jsx(S,{portfolio:s,onPortfolioUpdated:e=>{r(r=>r.map(r=>r.id===e.id?e:r)),s?.id===e.id&&i(e)}}):(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-8 text-center",children:[t.jsx(o.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Select a Portfolio"}),t.jsx("p",{className:"text-muted-foreground",children:"Choose a portfolio from the list to view its details and performance."})]})})]}),t.jsx(q,{isOpen:c,onClose:()=>x(!1),onPortfolioCreated:e=>{r(r=>[...r,e]),i(e),x(!1)}})]})}},7733:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`/workspace/src/app/portfolio/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[217,688,937],()=>s(3572));module.exports=t})();
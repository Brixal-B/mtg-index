(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{831:function(e,s,t){Promise.resolve().then(t.bind(t,10203))},39763:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var r=t(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let t=(0,r.forwardRef)((t,l)=>{let{color:c="currentColor",size:d=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:m="",children:x,...h}=t;return(0,r.createElement)("svg",{ref:l,...a,width:d,height:d,stroke:c,strokeWidth:o?24*Number(i)/Number(d):i,className:["lucide","lucide-".concat(n(e)),m].join(" "),...h},[...s.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(x)?x:[x]])});return t.displayName="".concat(e),t}},82431:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(39763).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},18930:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},70525:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(39763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},11239:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(39763).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},10203:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return O}});var r=t(57437),a=t(2265),n=t(63639),l=t(39763);let c=(0,l.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),d=(0,l.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),i=(0,l.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var o=t(46221);let m=(0,l.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),x=(0,l.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),h=(0,l.Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),u=(0,l.Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),g=(0,l.Z)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);var p=t(70525),f=t(81605),j=t(47625),N=t(21156),y=t(56940),v=t(97059),b=t(62994),w=t(8147),k=t(54061);function S(){let[e,s]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s(!0)},[]);let t=(0,a.useMemo)(()=>{if(!e)return[];let s=[],t=new Date;for(let e=23;e>=0;e--){let r=new Date(t);r.setHours(r.getHours()-e);let a=20+40*Math.random(),n=30+30*Math.random(),l=50+100*Math.random(),c=10+20*Math.random(),d=100-(a+n+c)/3;s.push({time:r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),fullTime:r.toISOString(),cpu:Math.round(a),memory:Math.round(n),network:Math.round(l),disk:Math.round(c),health:Math.round(d)})}return s},[e]),n=t[t.length-1],l=t.reduce((e,s)=>e+s.health,0)/t.length;return(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c,{className:"h-5 w-5 text-primary"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"System Health (24h)"})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Real-time system performance metrics and health indicators"})]}),(0,r.jsx)("div",{className:"h-64",children:(0,r.jsx)(j.h,{width:"100%",height:"100%",children:(0,r.jsxs)(N.w,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,r.jsx)(y.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,r.jsx)(v.K,{dataKey:"time",tick:{fontSize:12},interval:"preserveStartEnd"}),(0,r.jsx)(b.B,{tick:{fontSize:12},domain:[0,100]}),(0,r.jsx)(w.u,{content:(0,r.jsx)(e=>{let{active:s,payload:t,label:a}=e;return s&&t&&t.length?(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-3 shadow-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:a}),t.map((e,s)=>(0,r.jsxs)("p",{className:"text-sm",style:{color:e.color},children:[e.name,": ",e.value,"network"===e.dataKey?"ms":"health"===e.dataKey?"/100":"%"]},s))]}):null},{})}),(0,r.jsx)(k.x,{type:"monotone",dataKey:"health",stroke:"hsl(var(--primary))",strokeWidth:3,dot:!1,name:"Health Score"}),(0,r.jsx)(k.x,{type:"monotone",dataKey:"cpu",stroke:"hsl(220, 70%, 60%)",strokeWidth:2,dot:!1,name:"CPU Usage"}),(0,r.jsx)(k.x,{type:"monotone",dataKey:"memory",stroke:"hsl(280, 70%, 60%)",strokeWidth:2,dot:!1,name:"Memory Usage"}),(0,r.jsx)(k.x,{type:"monotone",dataKey:"disk",stroke:"hsl(40, 70%, 60%)",strokeWidth:2,dot:!1,name:"Disk I/O"})]})})}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-border",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Health Score"}),(0,r.jsxs)("p",{className:"text-lg font-semibold ".concat(l>80?"text-green-600":l>60?"text-yellow-600":"text-red-600"),children:[Math.round(l),"/100"]})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"CPU Usage"}),(0,r.jsxs)("p",{className:"text-lg font-semibold ".concat((null==n?void 0:n.cpu)>80?"text-red-600":(null==n?void 0:n.cpu)>60?"text-yellow-600":"text-green-600"),children:[null==n?void 0:n.cpu,"%"]})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Memory"}),(0,r.jsxs)("p",{className:"text-lg font-semibold ".concat((null==n?void 0:n.memory)>80?"text-red-600":(null==n?void 0:n.memory)>60?"text-yellow-600":"text-green-600"),children:[null==n?void 0:n.memory,"%"]})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Disk I/O"}),(0,r.jsxs)("p",{className:"text-lg font-semibold ".concat((null==n?void 0:n.disk)>80?"text-red-600":(null==n?void 0:n.disk)>60?"text-yellow-600":"text-green-600"),children:[null==n?void 0:n.disk,"%"]})]})]})]})}var M=t(77031),C=t(31699),T=t(11239);let R=(0,l.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function I(e){var s;let{metrics:t}=e,l=(0,a.useMemo)(()=>{let e=[],s=new Date;for(let r=11;r>=0;r--){let a=new Date(s);a.setHours(a.getHours()-r);let n=Math.max(50,t.averageResponseTime+(Math.random()-.5)*100),l=100+200*Math.random();e.push({time:a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),responseTime:Math.round(n),requests:Math.round(l),errors:Math.round(t.errorRate/100*l)})}return e},[t]),c=(e,s)=>e<=s.good?"text-green-600":e<=s.warning?"text-yellow-600":"text-red-600";return(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(T.Z,{className:"h-5 w-5 text-primary"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Performance Metrics"})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Response times and system performance over the last 12 hours"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-accent rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,r.jsx)(R,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),(0,r.jsxs)("p",{className:"text-xl font-bold ".concat(c(t.averageResponseTime,{good:200,warning:500})),children:[t.averageResponseTime,"ms"]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-accent rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,r.jsx)(n.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Error Rate"})]}),(0,r.jsxs)("p",{className:"text-xl font-bold ".concat(c(t.errorRate,{good:1,warning:5})),children:[t.errorRate,"%"]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-accent rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,r.jsx)(T.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),(0,r.jsxs)("p",{className:"text-xl font-bold ".concat((s=t.uptime)>=99.9?"text-green-600":s>=99?"text-yellow-600":"text-red-600"),children:[t.uptime,"%"]})]})]}),(0,r.jsx)("div",{className:"h-48",children:(0,r.jsx)(j.h,{width:"100%",height:"100%",children:(0,r.jsxs)(M.v,{data:l,margin:{top:5,right:30,left:20,bottom:5},children:[(0,r.jsx)(y.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,r.jsx)(v.K,{dataKey:"time",tick:{fontSize:12},interval:"preserveStartEnd"}),(0,r.jsx)(b.B,{tick:{fontSize:12},label:{value:"Response Time (ms)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(w.u,{content:(0,r.jsx)(e=>{let{active:s,payload:t,label:a}=e;return s&&t&&t.length?(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-3 shadow-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:a}),t.map((e,s)=>(0,r.jsxs)("p",{className:"text-sm",style:{color:e.color},children:[e.name,": ",e.value,"responseTime"===e.dataKey?"ms":""]},s))]}):null},{})}),(0,r.jsx)(C.$,{dataKey:"responseTime",fill:"hsl(var(--primary))",name:"Response Time"})]})})}),(0,r.jsx)("div",{className:"mt-4 pt-4 border-t border-border",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Current Status"}),(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"API Response:"}),(0,r.jsx)("span",{className:c(t.averageResponseTime,{good:200,warning:500}),children:t.averageResponseTime<=200?"Excellent":t.averageResponseTime<=500?"Good":"Poor"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Error Rate:"}),(0,r.jsx)("span",{className:c(t.errorRate,{good:1,warning:5}),children:t.errorRate<=1?"Low":t.errorRate<=5?"Moderate":"High"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"System Load:"}),(0,r.jsx)("span",{className:"text-green-600",children:"Normal"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Benchmarks"}),(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Target Response:"}),(0,r.jsxs)("span",{className:"text-foreground",children:["<","200ms"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Max Error Rate:"}),(0,r.jsxs)("span",{className:"text-foreground",children:["<","1%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Uptime SLA:"}),(0,r.jsxs)("span",{className:"text-foreground",children:[">","99.9%"]})]})]})]})]})})]})}var A=t(82431);function Z(e){let{apiStatus:s}=e,[t,n]=(0,a.useState)([]),[l,c]=(0,a.useState)(new Date);(0,a.useEffect)(()=>{let e=()=>{let e=new Date;n([{name:"Scryfall API",status:s.cardDatabase,icon:x,description:"Card database and pricing data",lastCheck:e,responseTime:"online"===s.cardDatabase?150+50*Math.random():void 0},{name:"Price Sync Service",status:s.priceSync,icon:A.Z,description:"Real-time price updates",lastCheck:e,responseTime:"online"===s.priceSync?150+100*Math.random():void 0},{name:"Image CDN",status:"online",icon:g,description:"Card image delivery network",lastCheck:e,responseTime:50+30*Math.random()},{name:"Search Service",status:"online",icon:d,description:"Card search and autocomplete",lastCheck:e,responseTime:80+40*Math.random()}])};e(),c(new Date);let t=setInterval(e,3e4);return()=>clearInterval(t)},[s]);let o=e=>{switch(e){case"online":return(0,r.jsx)(d,{className:"h-5 w-5 text-green-500"});case"offline":return(0,r.jsx)(i,{className:"h-5 w-5 text-red-500"});case"syncing":return(0,r.jsx)(A.Z,{className:"h-5 w-5 text-yellow-500 animate-spin"});default:return(0,r.jsx)(R,{className:"h-5 w-5 text-gray-500"})}},m=e=>{switch(e){case"online":return"border-green-200 bg-green-50";case"offline":return"border-red-200 bg-red-50";case"syncing":return"border-yellow-200 bg-yellow-50";default:return"border-gray-200 bg-gray-50"}},h=e=>{switch(e){case"online":return"Online";case"offline":return"Offline";case"syncing":return"Syncing";default:return"Unknown"}},u=t.filter(e=>"online"===e.status).length,p=t.length;return(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(g,{className:"h-5 w-5 text-primary"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"API Services Status"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[u,"/",p," services online"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Last check: ",l.toLocaleTimeString()]})]})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Real-time status of external API services and integrations"})]}),(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(e=>{let s=e.icon;return(0,r.jsx)("div",{className:"border rounded-lg p-4 ".concat(m(e.status)),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(s,{className:"h-6 w-6 text-muted-foreground"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[o(e.status),(0,r.jsx)("span",{className:"text-sm font-medium ".concat("online"===e.status?"text-green-600":"offline"===e.status?"text-red-600":"text-yellow-600"),children:h(e.status)})]})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Last Check:"}),(0,r.jsx)("div",{className:"font-medium text-foreground",children:e.lastCheck.toLocaleTimeString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Response:"}),(0,r.jsx)("div",{className:"font-medium text-foreground",children:e.responseTime?"".concat(Math.round(e.responseTime),"ms"):"N/A"})]})]})]})]})},e.name)})}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t border-border",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"Overall API Health"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"System connectivity and service availability"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold ".concat(u===p?"text-green-600":u>=.75*p?"text-yellow-600":"text-red-600"),children:[Math.round(u/p*100),"%"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Availability"})]})]}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(u===p?"bg-green-500":u>=.75*p?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(u/p*100,"%")}})}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,r.jsx)("span",{children:"0%"}),(0,r.jsx)("span",{children:"50%"}),(0,r.jsx)("span",{children:"100%"})]})]})]})]})}var H=t(18930);function L(){var e,s;let[t,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{let e=(0,f.Cp)(),s={portfolios:0,watchlist:0,preferences:0,priceAlerts:0,other:0};try{{let t=localStorage.getItem("mtg-portfolios"),r=localStorage.getItem("mtg-watchlist"),a=localStorage.getItem("mtg-preferences"),n=localStorage.getItem("mtg-price-alerts");s.portfolios=t?t.length:0,s.watchlist=r?r.length:0,s.preferences=a?a.length:0,s.priceAlerts=n?n.length:0;let l=s.portfolios+s.watchlist+s.preferences+s.priceAlerts;s.other=Math.max(0,e.used-l)}}catch(e){console.error("Error calculating storage breakdown:",e)}l({...e,breakdown:s})};e();let s=setInterval(e,1e4);return()=>clearInterval(s)},[]);let i=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]};if(!t)return(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)(h,{className:"h-5 w-5 text-primary"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Storage Monitor"})]}),(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),(0,r.jsx)("div",{className:"h-4 bg-muted rounded w-1/2"})]})]});let{status:o,color:m}=(e=t.percentage)>=90?{status:"Critical",color:"text-red-600"}:e>=75?{status:"Warning",color:"text-yellow-600"}:e>=50?{status:"Moderate",color:"text-blue-600"}:{status:"Good",color:"text-green-600"};return(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h,{className:"h-5 w-5 text-primary"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Local Storage Monitor"})]}),(0,r.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center space-x-1 text-sm text-red-600 hover:text-red-700 transition-colors",children:[(0,r.jsx)(H.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Clear Data"})]})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Browser storage usage and data breakdown"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Storage Usage"}),(0,r.jsxs)("span",{className:"text-sm font-medium ".concat(m),children:[t.percentage.toFixed(1),"% • ",o]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:(0,r.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat(((s=t.percentage)>=90?"text-red-600 bg-red-500":s>=75?"text-yellow-600 bg-yellow-500":s>=50?"text-blue-600 bg-blue-500":"text-green-600 bg-green-500").split(" ")[1]),style:{width:"".concat(Math.min(100,t.percentage),"%")}})}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:[i(t.used)," used"]}),(0,r.jsxs)("span",{children:[i(t.total)," total"]})]})]}),t.percentage>=75&&(0,r.jsxs)("div",{className:"border rounded-lg p-3 mb-4 ".concat(t.percentage>=90?"border-red-200 bg-red-50 text-red-700":"border-yellow-200 bg-yellow-50 text-yellow-700"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:t.percentage>=90?"Storage Critical":"Storage Warning"})]}),(0,r.jsx)("p",{className:"text-sm mt-1",children:t.percentage>=90?"Storage is nearly full. Consider clearing some data to prevent issues.":"Storage usage is high. Consider managing your data to free up space."})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"font-medium text-foreground",children:"Storage Breakdown"}),Object.entries(t.breakdown).map(e=>{let[s,a]=e,n=t.used>0?a/t.used*100:0,l=s.charAt(0).toUpperCase()+s.slice(1).replace(/([A-Z])/g," $1");return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(x,{className:"h-3 w-3 text-muted-foreground"}),(0,r.jsx)("span",{className:"text-sm text-foreground",children:l})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-foreground",children:i(a)}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["(",n.toFixed(1),"%)"]})]})]},s)})]}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-border",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Available:"}),(0,r.jsx)("div",{className:"font-medium text-foreground",children:i(t.total-t.used)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Efficiency:"}),(0,r.jsx)("div",{className:"font-medium ".concat(t.percentage<=50?"text-green-600":t.percentage<=75?"text-yellow-600":"text-red-600"),children:t.percentage<=50?"Optimal":t.percentage<=75?"Good":"Poor"})]})]})}),c&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl max-w-md w-full p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)(n.Z,{className:"h-5 w-5 text-red-500"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Clear All Data"})]}),(0,r.jsx)("p",{className:"text-muted-foreground mb-6",children:"This will permanently delete all portfolios, watchlists, preferences, and other application data. This action cannot be undone."}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-border text-foreground rounded-lg hover:bg-accent transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{confirm("Are you sure you want to clear all application data? This action cannot be undone.")&&((0,f._X)(),d(!1),window.location.reload())},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear All Data"})]})]})})]})}var E=t(95040);function O(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(!0),[j,N]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v(!0)},[]),(0,a.useEffect)(()=>{if(!y)return;let e=()=>{try{let e=(0,f.r3)(),t=(0,f.Cp)();e.reduce((e,s)=>e+s.cards.length,0);let r=new Set(e.flatMap(e=>e.cards.map(e=>e.cardId))).size,a=t.percentage>80?"critical":t.percentage>60?"warning":"healthy",n=Math.random()>.1?"online":"offline",l={totalUsers:1,totalPortfolios:e.length,totalCards:r,systemHealth:a,lastUpdated:new Date().toISOString(),apiStatus:{priceSync:n,cardDatabase:n},performanceMetrics:{averageResponseTime:Math.round(150+100*Math.random()),errorRate:Math.round(2*Math.random()*100)/100,uptime:Math.round(100*(99.5+.4*Math.random()))/100}};s(l),N(new Date)}catch(e){console.error("Error loading admin metrics:",e)}finally{l(!1)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[y]);let b=()=>{l(!0),setTimeout(()=>{window.location.reload()},500)};if(t&&!e)return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)(E.T,{size:"large"})});if(!e)return(0,r.jsxs)("div",{className:"text-center py-12 space-y-4",children:[(0,r.jsx)(n.Z,{className:"h-16 w-16 text-red-500 mx-auto"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Failed to load metrics"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Unable to retrieve system metrics. Please try again."})]}),(0,r.jsxs)("button",{onClick:b,className:"inline-flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[(0,r.jsx)(c,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Retry"})]})]});let w=e=>{switch(e){case"healthy":return(0,r.jsx)(d,{className:"h-5 w-5 text-green-500"});case"warning":return(0,r.jsx)(n.Z,{className:"h-5 w-5 text-yellow-500"});case"critical":return(0,r.jsx)(i,{className:"h-5 w-5 text-red-500"});default:return(0,r.jsx)(n.Z,{className:"h-5 w-5 text-gray-500"})}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.Z,{className:"h-8 w-8 text-primary"}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Dashboard"})]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"System monitoring and performance metrics"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last updated"}),(0,r.jsx)("p",{className:"text-sm font-medium text-foreground",children:(null==j?void 0:j.toLocaleTimeString())||"Never"})]}),(0,r.jsxs)("button",{onClick:b,disabled:t,className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:[(0,r.jsx)(c,{className:"h-4 w-4 ".concat(t?"animate-spin":"")}),(0,r.jsx)("span",{children:"Refresh"})]})]})]}),"healthy"!==e.systemHealth&&(0,r.jsx)("div",{className:"border rounded-lg p-4 ".concat((e=>{switch(e){case"healthy":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"critical":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}})(e.systemHealth)),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[w(e.systemHealth),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-medium",children:["System Health: ",e.systemHealth.charAt(0).toUpperCase()+e.systemHealth.slice(1)]}),(0,r.jsx)("p",{className:"text-sm mt-1",children:"warning"===e.systemHealth?"Some system components may need attention.":"Critical system issues detected. Immediate attention required."})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"bg-card border border-border rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg bg-blue-100",children:(0,r.jsx)(m,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.totalUsers})]})]})}),(0,r.jsx)("div",{className:"bg-card border border-border rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg bg-green-100",children:(0,r.jsx)(x,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Portfolios"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.totalPortfolios})]})]})}),(0,r.jsx)("div",{className:"bg-card border border-border rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg bg-purple-100",children:(0,r.jsx)(h,{className:"h-5 w-5 text-purple-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Unique Cards"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.totalCards.toLocaleString()})]})]})}),(0,r.jsx)("div",{className:"bg-card border border-border rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg ".concat("healthy"===e.systemHealth?"bg-green-100":"warning"===e.systemHealth?"bg-yellow-100":"bg-red-100"),children:w(e.systemHealth)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"System Health"}),(0,r.jsx)("p",{className:"text-2xl font-bold ".concat("healthy"===e.systemHealth?"text-green-600":"warning"===e.systemHealth?"text-yellow-600":"text-red-600"),children:e.systemHealth.charAt(0).toUpperCase()+e.systemHealth.slice(1)})]})]})})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsx)(S,{}),(0,r.jsx)(I,{metrics:e.performanceMetrics})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsx)(Z,{apiStatus:e.apiStatus}),(0,r.jsx)(L,{})]}),(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"System Information"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h4",{className:"font-medium text-foreground flex items-center space-x-2",children:[(0,r.jsx)(u,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Application"})]}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Version:"}),(0,r.jsx)("span",{className:"font-medium",children:"1.0.0"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Environment:"}),(0,r.jsx)("span",{className:"font-medium",children:"Production"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Build:"}),(0,r.jsx)("span",{className:"font-medium",children:new Date().toISOString().split("T")[0]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h4",{className:"font-medium text-foreground flex items-center space-x-2",children:[(0,r.jsx)(g,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"API Services"})]}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Scryfall API:"}),(0,r.jsx)("span",{className:"font-medium ".concat("online"===e.apiStatus.cardDatabase?"text-green-600":"text-red-600"),children:e.apiStatus.cardDatabase})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Price Sync:"}),(0,r.jsx)("span",{className:"font-medium ".concat("online"===e.apiStatus.priceSync?"text-green-600":"text-red-600"),children:e.apiStatus.priceSync})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h4",{className:"font-medium text-foreground flex items-center space-x-2",children:[(0,r.jsx)(p.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Performance"})]}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Uptime:"}),(0,r.jsxs)("span",{className:"font-medium text-green-600",children:[e.performanceMetrics.uptime,"%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Response Time:"}),(0,r.jsxs)("span",{className:"font-medium",children:[e.performanceMetrics.averageResponseTime,"ms"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Error Rate:"}),(0,r.jsxs)("span",{className:"font-medium ".concat(e.performanceMetrics.errorRate<1?"text-green-600":"text-yellow-600"),children:[e.performanceMetrics.errorRate,"%"]})]})]})]})]})]})]})}},95040:function(e,s,t){"use strict";t.d(s,{T:function(){return a}});var r=t(57437);function a(e){let{size:s="medium",className:t=""}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center ".concat(t),children:(0,r.jsx)("div",{className:"animate-spin rounded-full border-2 border-primary border-t-transparent ".concat({small:"h-4 w-4",medium:"h-6 w-6",large:"h-8 w-8"}[s]),role:"status","aria-label":"Loading",children:(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})})})}},81605:function(e,s,t){"use strict";t.d(s,{$8:function(){return c},BT:function(){return d},BZ:function(){return m},Cp:function(){return g},FW:function(){return o},_X:function(){return u},r3:function(){return l},sO:function(){return x},uT:function(){return i}});let r={PORTFOLIOS:"mtg-portfolios",WATCHLIST:"mtg-watchlist",PREFERENCES:"mtg-preferences",PRICE_ALERTS:"mtg-price-alerts",LAST_SYNC:"mtg-last-sync"};function a(e,s){try{let t=localStorage.getItem(e);return t?JSON.parse(t):s}catch(t){return console.error('Error reading from localStorage key "'.concat(e,'":'),t),s}}function n(e,s){try{localStorage.setItem(e,JSON.stringify(s))}catch(s){console.error('Error writing to localStorage key "'.concat(e,'":'),s)}}function l(){return a(r.PORTFOLIOS,[])}function c(e){let s=l(),t=s.findIndex(s=>s.id===e.id);t>=0?s[t]=e:s.push(e),n(r.PORTFOLIOS,s),h()}function d(e){let s=l().filter(s=>s.id!==e);n(r.PORTFOLIOS,s),h()}function i(){return a(r.WATCHLIST,[])}function o(e){let s=i();s.includes(e)||(s.push(e),n(r.WATCHLIST,s),h())}function m(e){let s=i().filter(s=>s!==e);n(r.WATCHLIST,s),h()}function x(e){return i().includes(e)}function h(){n(r.LAST_SYNC,new Date().toISOString())}function u(){Object.values(r).forEach(e=>{!function(e){try{localStorage.removeItem(e)}catch(s){console.error('Error removing localStorage key "'.concat(e,'":'),s)}}(e)})}function g(){try{let e=0;Object.values(r).forEach(s=>{let t=localStorage.getItem(s);t&&(e+=t.length)});let s=e/5242880*100;return{used:e,total:5242880,percentage:s}}catch(e){return console.error("Error calculating storage usage:",e),{used:0,total:0,percentage:0}}}}},function(e){e.O(0,[760,971,117,744],function(){return e(e.s=831)}),_N_E=e.O()}]);